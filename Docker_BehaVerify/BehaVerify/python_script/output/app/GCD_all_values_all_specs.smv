MODULE main
    VAR
        system : system_module;
--------------SPECIFICATIONS

LTLSPEC F(G(((system.gcd.status = success) & ((system.a_stage_0 mod system.y_stage_1) = 0) & ((system.b_stage_0 mod system.y_stage_1) = 0) & ((1 <= system.y_stage_1) | ((system.a_stage_0 mod 1) != 0) | ((system.b_stage_0 mod 1) != 0)) & ((2 <= system.y_stage_1) | ((system.a_stage_0 mod 2) != 0) | ((system.b_stage_0 mod 2) != 0)) & ((3 <= system.y_stage_1) | ((system.a_stage_0 mod 3) != 0) | ((system.b_stage_0 mod 3) != 0)) & ((4 <= system.y_stage_1) | ((system.a_stage_0 mod 4) != 0) | ((system.b_stage_0 mod 4) != 0)) & ((5 <= system.y_stage_1) | ((system.a_stage_0 mod 5) != 0) | ((system.b_stage_0 mod 5) != 0)) & ((6 <= system.y_stage_1) | ((system.a_stage_0 mod 6) != 0) | ((system.b_stage_0 mod 6) != 0)) & ((7 <= system.y_stage_1) | ((system.a_stage_0 mod 7) != 0) | ((system.b_stage_0 mod 7) != 0)) & ((8 <= system.y_stage_1) | ((system.a_stage_0 mod 8) != 0) | ((system.b_stage_0 mod 8) != 0)) & ((9 <= system.y_stage_1) | ((system.a_stage_0 mod 9) != 0) | ((system.b_stage_0 mod 9) != 0)) & ((10 <= system.y_stage_1) | ((system.a_stage_0 mod 10) != 0) | ((system.b_stage_0 mod 10) != 0)) & ((11 <= system.y_stage_1) | ((system.a_stage_0 mod 11) != 0) | ((system.b_stage_0 mod 11) != 0)) & ((12 <= system.y_stage_1) | ((system.a_stage_0 mod 12) != 0) | ((system.b_stage_0 mod 12) != 0)) & ((13 <= system.y_stage_1) | ((system.a_stage_0 mod 13) != 0) | ((system.b_stage_0 mod 13) != 0)) & ((14 <= system.y_stage_1) | ((system.a_stage_0 mod 14) != 0) | ((system.b_stage_0 mod 14) != 0)) & ((15 <= system.y_stage_1) | ((system.a_stage_0 mod 15) != 0) | ((system.b_stage_0 mod 15) != 0)) & ((16 <= system.y_stage_1) | ((system.a_stage_0 mod 16) != 0) | ((system.b_stage_0 mod 16) != 0)) & ((17 <= system.y_stage_1) | ((system.a_stage_0 mod 17) != 0) | ((system.b_stage_0 mod 17) != 0)) & ((18 <= system.y_stage_1) | ((system.a_stage_0 mod 18) != 0) | ((system.b_stage_0 mod 18) != 0)) & ((19 <= system.y_stage_1) | ((system.a_stage_0 mod 19) != 0) | ((system.b_stage_0 mod 19) != 0)) & ((20 <= system.y_stage_1) | ((system.a_stage_0 mod 20) != 0) | ((system.b_stage_0 mod 20) != 0)) & ((21 <= system.y_stage_1) | ((system.a_stage_0 mod 21) != 0) | ((system.b_stage_0 mod 21) != 0)) & ((22 <= system.y_stage_1) | ((system.a_stage_0 mod 22) != 0) | ((system.b_stage_0 mod 22) != 0)) & ((23 <= system.y_stage_1) | ((system.a_stage_0 mod 23) != 0) | ((system.b_stage_0 mod 23) != 0)) & ((24 <= system.y_stage_1) | ((system.a_stage_0 mod 24) != 0) | ((system.b_stage_0 mod 24) != 0)) & ((25 <= system.y_stage_1) | ((system.a_stage_0 mod 25) != 0) | ((system.b_stage_0 mod 25) != 0)) & ((26 <= system.y_stage_1) | ((system.a_stage_0 mod 26) != 0) | ((system.b_stage_0 mod 26) != 0)) & ((27 <= system.y_stage_1) | ((system.a_stage_0 mod 27) != 0) | ((system.b_stage_0 mod 27) != 0)) & ((28 <= system.y_stage_1) | ((system.a_stage_0 mod 28) != 0) | ((system.b_stage_0 mod 28) != 0)) & ((29 <= system.y_stage_1) | ((system.a_stage_0 mod 29) != 0) | ((system.b_stage_0 mod 29) != 0)) & ((30 <= system.y_stage_1) | ((system.a_stage_0 mod 30) != 0) | ((system.b_stage_0 mod 30) != 0)) & ((31 <= system.y_stage_1) | ((system.a_stage_0 mod 31) != 0) | ((system.b_stage_0 mod 31) != 0)) & ((32 <= system.y_stage_1) | ((system.a_stage_0 mod 32) != 0) | ((system.b_stage_0 mod 32) != 0)) & ((33 <= system.y_stage_1) | ((system.a_stage_0 mod 33) != 0) | ((system.b_stage_0 mod 33) != 0)) & ((34 <= system.y_stage_1) | ((system.a_stage_0 mod 34) != 0) | ((system.b_stage_0 mod 34) != 0)) & ((35 <= system.y_stage_1) | ((system.a_stage_0 mod 35) != 0) | ((system.b_stage_0 mod 35) != 0)) & ((36 <= system.y_stage_1) | ((system.a_stage_0 mod 36) != 0) | ((system.b_stage_0 mod 36) != 0)) & ((37 <= system.y_stage_1) | ((system.a_stage_0 mod 37) != 0) | ((system.b_stage_0 mod 37) != 0)) & ((38 <= system.y_stage_1) | ((system.a_stage_0 mod 38) != 0) | ((system.b_stage_0 mod 38) != 0)) & ((39 <= system.y_stage_1) | ((system.a_stage_0 mod 39) != 0) | ((system.b_stage_0 mod 39) != 0)) & ((40 <= system.y_stage_1) | ((system.a_stage_0 mod 40) != 0) | ((system.b_stage_0 mod 40) != 0)) & ((41 <= system.y_stage_1) | ((system.a_stage_0 mod 41) != 0) | ((system.b_stage_0 mod 41) != 0)) & ((42 <= system.y_stage_1) | ((system.a_stage_0 mod 42) != 0) | ((system.b_stage_0 mod 42) != 0)) & ((43 <= system.y_stage_1) | ((system.a_stage_0 mod 43) != 0) | ((system.b_stage_0 mod 43) != 0)) & ((44 <= system.y_stage_1) | ((system.a_stage_0 mod 44) != 0) | ((system.b_stage_0 mod 44) != 0)) & ((45 <= system.y_stage_1) | ((system.a_stage_0 mod 45) != 0) | ((system.b_stage_0 mod 45) != 0)) & ((46 <= system.y_stage_1) | ((system.a_stage_0 mod 46) != 0) | ((system.b_stage_0 mod 46) != 0)) & ((47 <= system.y_stage_1) | ((system.a_stage_0 mod 47) != 0) | ((system.b_stage_0 mod 47) != 0)) & ((48 <= system.y_stage_1) | ((system.a_stage_0 mod 48) != 0) | ((system.b_stage_0 mod 48) != 0)) & ((49 <= system.y_stage_1) | ((system.a_stage_0 mod 49) != 0) | ((system.b_stage_0 mod 49) != 0)) & ((50 <= system.y_stage_1) | ((system.a_stage_0 mod 50) != 0) | ((system.b_stage_0 mod 50) != 0)) & ((51 <= system.y_stage_1) | ((system.a_stage_0 mod 51) != 0) | ((system.b_stage_0 mod 51) != 0)) & ((52 <= system.y_stage_1) | ((system.a_stage_0 mod 52) != 0) | ((system.b_stage_0 mod 52) != 0)) & ((53 <= system.y_stage_1) | ((system.a_stage_0 mod 53) != 0) | ((system.b_stage_0 mod 53) != 0)) & ((54 <= system.y_stage_1) | ((system.a_stage_0 mod 54) != 0) | ((system.b_stage_0 mod 54) != 0)) & ((55 <= system.y_stage_1) | ((system.a_stage_0 mod 55) != 0) | ((system.b_stage_0 mod 55) != 0)) & ((56 <= system.y_stage_1) | ((system.a_stage_0 mod 56) != 0) | ((system.b_stage_0 mod 56) != 0)) & ((57 <= system.y_stage_1) | ((system.a_stage_0 mod 57) != 0) | ((system.b_stage_0 mod 57) != 0)) & ((58 <= system.y_stage_1) | ((system.a_stage_0 mod 58) != 0) | ((system.b_stage_0 mod 58) != 0)) & ((59 <= system.y_stage_1) | ((system.a_stage_0 mod 59) != 0) | ((system.b_stage_0 mod 59) != 0)) & ((60 <= system.y_stage_1) | ((system.a_stage_0 mod 60) != 0) | ((system.b_stage_0 mod 60) != 0)) & ((61 <= system.y_stage_1) | ((system.a_stage_0 mod 61) != 0) | ((system.b_stage_0 mod 61) != 0)) & ((62 <= system.y_stage_1) | ((system.a_stage_0 mod 62) != 0) | ((system.b_stage_0 mod 62) != 0)) & ((63 <= system.y_stage_1) | ((system.a_stage_0 mod 63) != 0) | ((system.b_stage_0 mod 63) != 0)) & ((64 <= system.y_stage_1) | ((system.a_stage_0 mod 64) != 0) | ((system.b_stage_0 mod 64) != 0)) & ((65 <= system.y_stage_1) | ((system.a_stage_0 mod 65) != 0) | ((system.b_stage_0 mod 65) != 0)) & ((66 <= system.y_stage_1) | ((system.a_stage_0 mod 66) != 0) | ((system.b_stage_0 mod 66) != 0)) & ((67 <= system.y_stage_1) | ((system.a_stage_0 mod 67) != 0) | ((system.b_stage_0 mod 67) != 0)) & ((68 <= system.y_stage_1) | ((system.a_stage_0 mod 68) != 0) | ((system.b_stage_0 mod 68) != 0)) & ((69 <= system.y_stage_1) | ((system.a_stage_0 mod 69) != 0) | ((system.b_stage_0 mod 69) != 0)) & ((70 <= system.y_stage_1) | ((system.a_stage_0 mod 70) != 0) | ((system.b_stage_0 mod 70) != 0)) & ((71 <= system.y_stage_1) | ((system.a_stage_0 mod 71) != 0) | ((system.b_stage_0 mod 71) != 0)) & ((72 <= system.y_stage_1) | ((system.a_stage_0 mod 72) != 0) | ((system.b_stage_0 mod 72) != 0)) & ((73 <= system.y_stage_1) | ((system.a_stage_0 mod 73) != 0) | ((system.b_stage_0 mod 73) != 0)) & ((74 <= system.y_stage_1) | ((system.a_stage_0 mod 74) != 0) | ((system.b_stage_0 mod 74) != 0)) & ((75 <= system.y_stage_1) | ((system.a_stage_0 mod 75) != 0) | ((system.b_stage_0 mod 75) != 0)) & ((76 <= system.y_stage_1) | ((system.a_stage_0 mod 76) != 0) | ((system.b_stage_0 mod 76) != 0)) & ((77 <= system.y_stage_1) | ((system.a_stage_0 mod 77) != 0) | ((system.b_stage_0 mod 77) != 0)) & ((78 <= system.y_stage_1) | ((system.a_stage_0 mod 78) != 0) | ((system.b_stage_0 mod 78) != 0)) & ((79 <= system.y_stage_1) | ((system.a_stage_0 mod 79) != 0) | ((system.b_stage_0 mod 79) != 0)) & ((80 <= system.y_stage_1) | ((system.a_stage_0 mod 80) != 0) | ((system.b_stage_0 mod 80) != 0)) & ((81 <= system.y_stage_1) | ((system.a_stage_0 mod 81) != 0) | ((system.b_stage_0 mod 81) != 0)) & ((82 <= system.y_stage_1) | ((system.a_stage_0 mod 82) != 0) | ((system.b_stage_0 mod 82) != 0)) & ((83 <= system.y_stage_1) | ((system.a_stage_0 mod 83) != 0) | ((system.b_stage_0 mod 83) != 0)) & ((84 <= system.y_stage_1) | ((system.a_stage_0 mod 84) != 0) | ((system.b_stage_0 mod 84) != 0)) & ((85 <= system.y_stage_1) | ((system.a_stage_0 mod 85) != 0) | ((system.b_stage_0 mod 85) != 0)) & ((86 <= system.y_stage_1) | ((system.a_stage_0 mod 86) != 0) | ((system.b_stage_0 mod 86) != 0)) & ((87 <= system.y_stage_1) | ((system.a_stage_0 mod 87) != 0) | ((system.b_stage_0 mod 87) != 0)) & ((88 <= system.y_stage_1) | ((system.a_stage_0 mod 88) != 0) | ((system.b_stage_0 mod 88) != 0)) & ((89 <= system.y_stage_1) | ((system.a_stage_0 mod 89) != 0) | ((system.b_stage_0 mod 89) != 0)) & ((90 <= system.y_stage_1) | ((system.a_stage_0 mod 90) != 0) | ((system.b_stage_0 mod 90) != 0)) & ((91 <= system.y_stage_1) | ((system.a_stage_0 mod 91) != 0) | ((system.b_stage_0 mod 91) != 0)) & ((92 <= system.y_stage_1) | ((system.a_stage_0 mod 92) != 0) | ((system.b_stage_0 mod 92) != 0)) & ((93 <= system.y_stage_1) | ((system.a_stage_0 mod 93) != 0) | ((system.b_stage_0 mod 93) != 0)) & ((94 <= system.y_stage_1) | ((system.a_stage_0 mod 94) != 0) | ((system.b_stage_0 mod 94) != 0)) & ((95 <= system.y_stage_1) | ((system.a_stage_0 mod 95) != 0) | ((system.b_stage_0 mod 95) != 0)) & ((96 <= system.y_stage_1) | ((system.a_stage_0 mod 96) != 0) | ((system.b_stage_0 mod 96) != 0)) & ((97 <= system.y_stage_1) | ((system.a_stage_0 mod 97) != 0) | ((system.b_stage_0 mod 97) != 0)) & ((98 <= system.y_stage_1) | ((system.a_stage_0 mod 98) != 0) | ((system.b_stage_0 mod 98) != 0)) & ((99 <= system.y_stage_1) | ((system.a_stage_0 mod 99) != 0) | ((system.b_stage_0 mod 99) != 0)) & ((100 <= system.y_stage_1) | ((system.a_stage_0 mod 100) != 0) | ((system.b_stage_0 mod 100) != 0)))));

--------------END OF SPECIFICATIONS

MODULE system_module
    CONSTANTS
        success, failure, running, invalid;
    DEFINE
        resume_from_here_in_subtree__gcd := -3;
        gcd.active := TRUE;
        --START OF BLACKBOARD DEFINITIONS
        x_stage_1 :=
            case
                !(swap.active) : x_stage_0;
                TRUE : y_stage_0;
            esac;
        y_stage_1 :=
            case
                !(swap.active) : y_stage_0;
                TRUE : swap_DOT_temp_stage_1;
            esac;
        swap_DOT_temp_stage_1 :=
            case
                !(swap.active) : swap_DOT_temp_stage_0;
                TRUE : x_stage_0;
            esac;
        --END OF BLACKBOARD DEFINITIONS
    FROZENVAR
        --START OF BLACKBOARD FROZENVAR
        a_stage_0 : 1..100;
        b_stage_0 : 1..100;
        --END OF BLACKBOARD FROZENVAR
    VAR
        node_names : define_nodes;
        no_swap : no_swap_module(x_stage_0, y_stage_0);
        swap : success_DEFAULT_module();
        swap_sel : composite_selector_without_memory_2(no_swap, swap);
        done : done_module(x_stage_1, y_stage_1);
        next_value : running_DEFAULT_module();
        iterate_sel : composite_selector_without_memory_2(done, next_value);
        gcd : composite_sequence_without_memory_2(swap_sel, iterate_sel);
        --START OF BLACKBOARD VARIABLES DECLARATION
        x_stage_0 : 1..100;
        y_stage_0 : 1..100;
        swap_DOT_temp_stage_0 : 1..100;
        --END OF BLACKBOARD VARIABLES DECLARATION
    ASSIGN
        --START OF BLACKBOARD VARIABLES INITIALIZATION
        init(a_stage_0) := {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100};
        init(b_stage_0) := {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100};
        init(x_stage_0) := a_stage_0;
        init(y_stage_0) := b_stage_0;
        init(swap_DOT_temp_stage_0) := 1;
        --END OF BLACKBOARD VARIABLES INITIALIZATION
        --START OF BLACKBOARD VARIABLES TRANSITION
        next(x_stage_0) :=
            case
                !(next_value.active) : x_stage_1;
                TRUE : max(1, (x_stage_1 mod y_stage_1));
            esac;
        next(y_stage_0) := y_stage_1;
        next(swap_DOT_temp_stage_0) := swap_DOT_temp_stage_1;
        --END OF BLACKBOARD VARIABLES TRANSITION

MODULE define_nodes
    DEFINE
        gcd := 0;
        swap_sel := 1;
        no_swap := 2;
        swap := 3;
        iterate_sel := 4;
        done := 5;
        next_value := 6;
MODULE composite_sequence_without_memory_2(child_0, child_1)
    CONSTANTS
        success, failure, running, invalid;
    DEFINE
        status := active ? internal_status : invalid;
        internal_status :=
            case
                !(child_0.internal_status = success) : child_0.internal_status;
                !(child_1.internal_status = success) : child_1.internal_status;
                TRUE : success;
            esac;
        child_0.active := active;
        child_1.active := child_0.status = success;
MODULE composite_selector_without_memory_2(child_0, child_1)
    CONSTANTS
        success, failure, running, invalid;
    DEFINE
        status := active ? internal_status : invalid;
        internal_status :=
            case
                !(child_0.internal_status = failure) : child_0.internal_status;
                !(child_1.internal_status = failure) : child_1.internal_status;
                TRUE : failure;
            esac;
        child_0.active := active;
        child_1.active := child_0.status = failure;
MODULE no_swap_module(x_stage_0, y_stage_0)
    CONSTANTS
        success, failure, running, invalid;
    DEFINE
        status := active ? internal_status : invalid;
        internal_status := ((x_stage_0 >= y_stage_0)) ? success : failure;
MODULE done_module(x_stage_1, y_stage_1)
    CONSTANTS
        success, failure, running, invalid;
    DEFINE
        status := active ? internal_status : invalid;
        internal_status := (((x_stage_1 mod y_stage_1) = 0)) ? success : failure;
MODULE running_DEFAULT_module
    CONSTANTS
        success, failure, running, invalid;
    DEFINE
        status := active ? internal_status : invalid;
        internal_status := running;
MODULE success_DEFAULT_module
    CONSTANTS
        success, failure, running, invalid;
    DEFINE
        status := active ? internal_status : invalid;
        internal_status := success;
